(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{4132:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-campaign",function(){return t(4437)}])},6667:function(e,a,t){"use strict";var n=t(5893);let l=()=>(0,n.jsx)("div",{className:"circularLoaderContainer",children:(0,n.jsx)("div",{className:"circularLoader"})});a.Z=l},5602:function(e,a,t){"use strict";var n=t(5893),l=t(7294),s=t(2175),i=t(9828),c=t(6667);let r=e=>{let a=e.db,[t,r]=(0,l.useState)(!1),o=()=>{let e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<10;t++)e+=a.charAt(Math.floor(Math.random()*a.length));return e},m=(e,a)=>{let t=new Date(e);return t.setDate(t.getDate()+a),t};return(0,n.jsxs)("div",{className:"relative px-4 animate__animated animate__fadeInUp animate__faster h-[80vh] overflow-scroll",children:[t&&(0,n.jsx)("div",{className:"absolute z-[100] top-0 left-0 flex flex-col justify-center items-center w-full h-full bg-white bg-opacity-90",children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)("h1",{className:"font-black leading-tight text-[2.8rem] mb-5",children:"Your campaign details"}),(0,n.jsx)(s.J9,{initialValues:{campaign:"",campaignAmount:0,campaignDuration:0,message:""},validate:e=>{let a={};return/(.*[a-z]){2}/i.test(e.campaign)||(a.campaign="Please add your campaign name"),a},onSubmit:async(t,n)=>{let{setSubmitting:l}=n;r(!0),console.log(m(new Date,t.campaignDuration));try{localStorage.setItem("campaign",t.campaign),localStorage.setItem("campaignAmount",t.campaignAmount),localStorage.setItem("campaignDuration",t.campaignDuration),localStorage.setItem("status","active"),localStorage.setItem("completionDate",m(new Date,t.campaignDuration)),localStorage.setItem("message",t.message),localStorage.setItem("campaignID",o());let e=await (0,i.pl)((0,i.JU)(a,"chippin","".concat(localStorage.getItem("uid"),"/campaigns/").concat(localStorage.getItem("campaignID"))),{name:localStorage.getItem("campaign"),campaignAmount:localStorage.getItem("campaignAmount"),amountContributed:0,campaignDuration:localStorage.getItem("campaignDuration"),status:localStorage.getItem("status"),completionDate:localStorage.getItem("completionDate"),campaignMessage:localStorage.getItem("message")},{merge:!0});console.log(e)}catch(e){r(!1),l(!1),console.log(e);return}r(!1),l(!1),e.nextStep()},children:e=>{let{values:a,errors:t,touched:l,handleChange:i,handleBlur:c,handleSubmit:r,isSubmitting:o}=e;return(0,n.jsxs)("form",{onSubmit:r,className:"flex flex-col justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"campaign",className:"font-bold",children:"Name of campaign"}),(0,n.jsx)("input",{type:"text",name:"campaign",onChange:i,onBlur:c,value:a.campaign,className:"w-full p-2 border border-x-transparent border-t-transparent border-b-gray-light",placeholder:"Give your campaign a name"}),(0,n.jsx)("div",{className:"text-error-500",children:t.campaign&&l.campaign&&t.campaign}),(0,n.jsxs)("div",{className:"border border-grey-superlight shadow-lg rounded-md flex flex-row mt-8 p-2",children:[(0,n.jsxs)("div",{className:"w-1/2 flex flex-col items-center border border-transparent border-r-grey-dark",children:[(0,n.jsxs)("div",{className:"font-bold",children:["R",(0,n.jsx)("span",{className:"text-2xl",children:a.campaignAmount}),".00"]}),(0,n.jsx)("p",{className:"text-grey-light",children:"Goal amount"})]}),(0,n.jsxs)("div",{className:"w-1/2 flex flex-col items-center",children:[(0,n.jsxs)("div",{className:"font-bold",children:[(0,n.jsx)("span",{className:"text-2xl",children:a.campaignDuration})," days"]}),(0,n.jsx)("p",{className:"text-grey-light",children:"Campaign duration"})]})]}),(0,n.jsx)("label",{htmlFor:"campaignAmount",className:"font-bold mt-10 block",children:"How much do you need?"}),(0,n.jsx)("input",{type:"range",id:"campaignAmount",name:"campaignAmount",onInput:i,onBlur:c,value:a.campaignAmount,min:"1000",max:"10000",step:"100",className:"w-full mt-4"}),(0,n.jsx)("label",{htmlFor:"campaignDuration",className:"font-bold mt-10 block",children:"Campaign duration"}),(0,n.jsx)("input",{type:"range",id:"campaignDuration",name:"campaignDuration",onInput:i,onBlur:c,value:a.campaignDuration,min:"7",max:"90",step:"1",className:"w-full mt-4"}),(0,n.jsx)("label",{htmlFor:"message",className:"font-bold mt-10 block",children:"Personalised message"}),(0,n.jsx)(s.gN,{as:"textarea",id:"message",name:"message",rows:"5",className:"w-full my-8 rounded-md shadow-lg",value:a.message})]}),(0,n.jsx)("button",{type:"submit",disabled:o,className:"btn btn-gradient w-[160px] mx-auto mb-20",children:"Next"})]})}})]})};a.Z=r},6956:function(e,a,t){"use strict";var n=t(5893),l=t(7294),s=t(4855),i=t(9583),c=t(1664),r=t.n(c);let o=e=>{let a=localStorage.getItem("campaignID"),t=localStorage.getItem("uid"),[c,o]=(0,l.useState)("chippin.netlify.app/campaign?id="+localStorage.getItem("campaignID")+"&userid="+localStorage.getItem("uid")),[m,d]=(0,l.useState)(!1),g=()=>{d(!0),setTimeout(()=>{d(!1)},2e3)};return(0,l.useEffect)(()=>{localStorage.removeItem("bankName"),localStorage.removeItem("otherBankName"),localStorage.removeItem("accNumber"),localStorage.removeItem("accHolder")},[]),(0,n.jsxs)("div",{className:"animate__animated animate__fadeInUp animate__faster bg-white rounded-t-md absolute z-10 w-9/12 md:w-8/12 lg:w-9/12 max-w-[320px] _h-[85%] _top-[15%] left-0 right-0 mx-auto",children:[(0,n.jsx)("h1",{className:"mt-10 text-center",children:"SHARE CAMPAIGN"}),(0,n.jsxs)("div",{className:"w-full mx-auto mt-5",children:[(0,n.jsx)(s.CopyToClipboard,{className:"relative flex flex-row justify-between p-3 rounded border bg-white border-gray cursor-pointer transition duration-200 ease-in hover:border-success",text:c,onCopy:g,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-success-500",children:"Click to copy your campaign URL"}),(0,n.jsx)("div",{children:(0,n.jsx)(i.esY,{className:"text-success-500 text-2xl"})}),m&&(0,n.jsx)("div",{className:"flex flex-row justify-center items-center absolute w-full h-full bg-success-500 bg-opacity-90 rounded top-0 left-0 text-white font-bold",children:"Copied!"})]})}),(0,n.jsx)(r(),{href:"/campaign?id=".concat(a,"&userid=").concat(t),children:(0,n.jsx)("div",{className:"mt-20 btn btn-gradient",children:"View Campaign"})}),(0,n.jsx)("div",{onClick:e.openDashboard,children:(0,n.jsx)("div",{className:"mt-5 btn btn-white",children:(0,n.jsx)("span",{children:"Go to your Dashboard"})})})]})]})};a.Z=o},4437:function(e,a,t){"use strict";t.r(a);var n=t(5893),l=t(7294),s=t(5675),i=t.n(s),c=t(5602),r=t(6956),o=t(8121),m=t(1259),d=t(9828),g=t(3977);let u=()=>{let[e,a]=(0,l.useState)(1),[t,s]=(0,l.useState)(null),u=(0,g.ZF)(o.L),p=(0,d.ad)(u),x=(0,m.v0)();return(0,l.useEffect)(()=>{!t&&x.currentUser&&(s(x.currentUser.uid),localStorage.setItem("uid",x.currentUser.uid))},[x,t]),(0,n.jsxs)("div",{className:"flex flex-col justify-between py-10 px-10 h-[100vh]",children:[(0,n.jsx)(i(),{src:"/img/logo-white.svg",alt:"chippin logo",className:"w-10/12 max-w-[180px] max-h-[47px] mx-auto",width:"180",height:"47",priority:!0}),(0,n.jsx)("div",{className:"animate__animated animate__fadeInUp animate__faster bg-white rounded-t-md absolute z-10 w-full md:w-7/12 lg:w-5/12 max-w-[600px] h-[85%] top-[15%] left-0 right-0 mx-auto",children:(0,n.jsxs)("div",{children:[1===e&&(0,n.jsx)(c.Z,{db:p,nextStep:()=>a(2)}),2===e&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.Z,{exit:()=>{},campaignurl:"/campaign?id=".concat(localStorage.getItem("campaignID"),"&userid=").concat(t),openDashboard:()=>window.location.assign("/")})})]})}),(0,n.jsx)(i(),{src:"/img/Background-splash.png",alt:"background image",className:"absolute -z-[1] inset-0 h-full w-full object-cover",width:"650",height:"812"})]})};a.default=u},8121:function(e,a,t){"use strict";t.d(a,{L:function(){return n}});let n={apiKey:"AIzaSyBu6f-hg2N2NaYtMIVl_le-qb_yiRN3sP0",authDomain:"chippin-27e57.firebaseapp.com",projectId:"chippin-27e57",storageBucket:"chippin-27e57.appspot.com",messagingSenderId:"247766600402",appId:"1:247766600402:web:c4608d8b753e9636003b0b",measurementId:"G-ZRDZDNF0FM"}}},function(e){e.O(0,[445,16,18,213,774,888,179],function(){return e(e.s=4132)}),_N_E=e.O()}]);